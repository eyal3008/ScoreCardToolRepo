<div class="panel panel-info">
    <div class="panel-heading">
        <center>
            <h3>User Management</h3>

        </center>
    </div>

    <div ng-show="error" class="alert alert-danger">{{errorMessage}}</div>
    <br />
    <button id="yourbox" class="btn btn-success" data-toggle="collapse" data-target="#collapsetwo2"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add User</button>
    <div id="collapsetwo2" class="panel-collapse collapse">
        <div class="panel-body">
            <div class="collapse-group" id="#accordion2">
                <form class="form" ng-submit="register()">
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" class="form-control" name="Name" ng-model="FormUser.Name" required style="width:300px">

                        <label>Email</label>
                        <input type="email" class="form-control" name="Email" ng-model="FormUser.Email" required style="width:300px">

                        <label>Role</label>
                        <select class="form-control" name="Role" ng-model="FormUser.Role" required style="width:300px">
                   <option value="Auditor">Auditor</option>
                   <option value="engineer">Engineer</option>
                   <option ng-if="activeUser.user.Role == 'Manager'" value="Manager">Manager</option>
                 </select>
                        <label>Department</label>
                        <select class="form-control" name="Department" ng-model="FormUser.Department" required style="width:300px">
                            <option value="SOC">SOC</option>
                            <option value="NOC">NOC</option>
                             <option value="FrontLine">FrontLine</option>
                              <option value="ALM">ALM</option>
                               <option value="BSM">BSM</option>
                                <option value="PPM">PPM</option>
                                 <option value="SAW">SAW</option>
                                  <option value="AGM">AGM</option>
                                   <option value="SRL">SRL</option>
                                   <option value="MyAccount">MyAccount</option>
                                   <option value="SRF">SRF</option>
                          </select>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" class="form-control" name="Password" ng-model="FormUser.Password" required style="width:300px">
                    </div>
                    <button type="submit" class="btn btn-default" ng-disabled="disabled" data-toggle="collapse" data-target="#collapsetwo2">Register</button>
                </form>
            </div>
        </div>
    </div>
    <p>
        <p>
        </p>
    </p>
    <table class="table">

        <tr ng-repeat="user in userlist | filter: { Department: activeUser.user.Department}">

            <td style="width: 500px;">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <span class="glyphicon glyphicon-king" aria-hidden="true" ng-if="user.Role == 'Manager'"></span><b> {{user.Name}}</b>
                    </div>
                    <div class="panel-footer">{{user.Role}} - {{user.Department}}</div>
                </div>
                <div id="collapsetwo{{user._id}}" class="panel-collapse collapse">
                    <div class="panel-body">
                        <div class="collapse-group" id="#accordion2">
                            <p>
                                <br />
                            </p>

                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" class="form-control" name="Name" ng-model="user.Name" required>

                                <label>Email</label>
                                <input type="email" class="form-control" name="Email" ng-model="user.Email" required>

                                <label>Department</label>
                                <select class="form-control" name="Department" ng-model="user.Department" required style="width:300px">
             <option value="SOC">SOC</option>
             <option value="NOC">NOC</option>
              <option value="FrontLine">FrontLine</option>
               <option value="ALM">ALM</option>
                <option value="BSM">BSM</option>
                 <option value="PPM">PPM</option>
                  <option value="SAW">SAW</option>
                   <option value="AGM">AGM</option>
                    <option value="SRL">SRL</option>
                    <option value="MyAccount">MyAccount</option>
                    <option value="SRF">SRF</option>

           </select>

                                <label>Role</label>
                                <select class="form-control" name="Role" ng-model="user.Role" required style="width:300px">
             <option value="Auditor">Auditor</option>
             <option value="engineer" required>Engineer</option>
                <option ng-if="activeUser.user.Role == 'Manager'" value="Manager">Manager</option>
           </select>
                            </div>
                            <div class="form-group">
                                <label>Password</label>
                                <input type="password" class="form-control" name="Password" ng-model="user.Password" required>
                            </div>
                            <div>
                                <button class="btn btn-default" ng-disabled="disabled" ng-click="update(user._id, user)" data-toggle="collapse" data-target="#collapsetwo{{user._id}}">update</button>
                            </div>
                        </div>
                    </div>
                </div>
            </td>
            <td> &nbsp;</td>
            <td><button class="btn btn-danger" ng-click="remove(user._id)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Remove</button>
                <button class="btn btn-warning" ng-click="edit(user._id)" data-toggle="collapse" data-target="#collapsetwo{{user._id}}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</button>
            </td>

        </tr>

        </tbody>

    </table>
</div>



<div class="panel panel-info" id="CatalogItem">
    <div class="panel-heading">
        <center>
            <h3>Catalog Items</h3>
        </center>
    </div>
    <div>
        <div ng-show="uploading" class="progress">
            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                <span class="sr-only"></span>
            </div>
        </div>

        <form ng-submit="Submit()">
            <label class="btn btn-success">
              Upload Bulk
              <input type="file" file-model="file.upload" name="myfile" ng-disabled="uploading" style="display: none;">
              <!-- "onchange" is for the changing image; created new function "photoChanged"; "files" because it comes in a form of an array; "onchange" reffers to anytime the "ng-disabled" is changed -->
            </label>
            <br>
            <br>
            <button class="btn btn-primary" ng-disabled="uploading">Submit</button>
        </form>
        <br>
        <br>
        <button id="Your box" class="btn btn-success" data-toggle="collapse" data-target="#collapsetwo4"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add CI</button>




        <div ng-show="message">
            <div ng-class="alert">{{ message }}</div>
        </div>
    </div>

    <br />

    <div id="collapsetwo3" class="panel-collapse collapse">
        <div class="panel-body">
            <div class="collapse-group" id="#accordion2">
                <form class="form" ng-submit="CiRegister()">
                    <div class="form-group">
                        <label>Title</label>
                          <input type="text" class="form-control" name="Title" ng-model="Ci.title" required style="width:300px">

                        <label>Rank</label>
                        <input type="text" class="form-control" name="Rank" ng-model="Ci.rank" required style="width:300px">


                        <button type="submit" class="btn btn-default" ng-disabled="disabled" data-toggle="collapse" data-target="#collapsetwo3">Register</button>
                </form>
                </div>
            </div>
        </div>
    </div>
    <p>
        <p>
        </p>
    </p>
    <input type="button" class="btn btn-link" value="Show Catalog Item List" ng-click="ShowHide()" />
    <div ng-show="IsVisible">

        <table class="table">

            <tr ng-repeat="ci in CIList">

                <td style="width: 500px;">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <span class="glyphicon glyphicon-king" aria-hidden="true" ng-if="user.Role == 'Manager'"></span><b> {{ci.title}}</b>
                        </div>
                        <div class="panel-footer">{{ci.rank}}</div>
                    </div>
                    <div id="collapsetwo3{{ci._id}}" class="panel-collapse collapse">
                        <div class="panel-body">
                            <div class="collapse-group" id="#accordion2">
                                <p>
                                    <br />
                                </p>

                                <div class="form-group">
                                    <label>Title</label>
                                    <input type="text" class="form-control" name="Title" ng-model="ci.title" required>

                                    <label>Rank</label>
                                    <input type="text" class="form-control" name="Rank" ng-model="ci.rank" required>
                                </div>

                                <div>
                                    <button class="btn btn-default" ng-disabled="disabled" ng-click="CiUpdate(ci._id, ci)" data-toggle="collapse" data-target="#collapsetwo3{{ci._id}}">update</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
                <td> &nbsp;</td>
                <td><button class="btn btn-danger" ng-click="CiRemove(ci._id)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Remove</button>
                    <button class="btn btn-warning" ng-click="CiEdit(ci._id)" data-toggle="collapse" data-target="#collapsetwo3{{ci._id}}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</button>
                </td>

            </tr>

            </tbody>

        </table>
    </div>


</div>
<!--*********************************************************************************************************  -->
<!-- The Target Configurations table to update  -->
<!--*********************************************************************************************************  -->

<!--        Targets Configurations  -->
<div class="panel panel-info" id="TicketsTargets">
    <div class="panel-heading">
        <center>
            <h3>Yearly Targets Setting</h3>
        </center>
    </div>
    <!-- <button id="targetbox" class="btn btn-success" data-toggle="collapse" data-target="#collapsetwo4"><span class="glyphicon glyphicon-plus" aria-hidden="true" ></span> Show Targets</button> -->





    <!--*********************************************************************************************************  -->




  <input type="button" class="btn btn-link" value="Show Target List" ng-click="ShowHideTargetList()" />
    <div ng-show="targetIsVisible">

        <table class=" table table-striped table-bordered" style="width: 600px;">

        <tbody>
            <tr ng-repeat="goal in target">
              <form>


                  <div class="panel panel-default">
                <td style="width: 200px;">

                        <div class="panel-body">
                         <div><b>{{goal.targetName}}</b></div>

                        </div>
                      </td>
                      <td style="width: 200px;" >
                        <div class="panel-body">
                        <div ng-hide="viewField">{{goal.value}}</div>
                        <div ng-show="modifyField"><input type="text" ng-model="goal.value" /></div>
                        <!-- <div class="panel-footer">{{goal.value}}</div> -->
                      </div>

                    </td>
                    <div class="panel-body">
                    <button ng-hide="viewField" ng-click="modify()">Edit</button>
                    <button ng-show="modifyField" ng-click="updateTargets(target)">Save</button>
                  </div>
                </div>  </form>
              </tr>

            </tbody>

        </table>
    </div>


</div>




<!--*********************************************************************************************************  -->
<!-- The Target Configurations table to update  -->
<!--*********************************************************************************************************  -->

<!--        Targets Configurations  -->
<div class="panel panel-info" id="SurveyTargets">
    <div class="panel-heading">
        <center>
            <h3>Survey Targets Setting</h3>
        </center>
    </div>
    <!-- <button id="targetbox" class="btn btn-success" data-toggle="collapse" data-target="#collapsetwo5"><span class="glyphicon glyphicon-plus" aria-hidden="true" ></span> Show Targets</button> -->

    <!--*********************************************************************************************************  -->

  <input type="button" class="btn btn-link" value="Show Target List" ng-click="ShowHideSurveyList()" />
    <div ng-show="surveyIsVisible">

        <table class=" table table-striped table-bordered" style="width: 600px;">

        <tbody>
            <tr ng-repeat="goal in survey">
              <form>


                  <div class="panel panel-default">
                <td style="width: 300px;">

                        <div class="panel-body">
                         <div><b>{{goal.targetName}}</b></div>

                        </div>
                      </td>
                      <td style="width: 200px;" >
                        <div class="panel-body">
                        <div ng-hide="viewSurveyField">{{goal.value}}</div>
                        <div ng-show="modifySurveyField"><input type="text" ng-model="goal.value" /></div>
                        <!-- <div class="panel-footer">{{goal.value}}</div> -->
                      </div>

                    </td>
                    <div class="panel-body">
                    <button ng-hide="viewSurveyField" ng-click="modifySurvey()">Edit</button>
                    <button ng-show="modifySurveyField" ng-click="updateSurvey(survey)">Save</button>
                  </div>
                </div>  </form>
              </tr>

            </tbody>

        </table>
    </div>


</div>

<!--                   EOF  -->
